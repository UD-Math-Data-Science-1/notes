
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2.1. Exploratory analysis &#8212; Data Science 1</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"float": ["\\mathbb{F}"], "real": ["\\mathbb{R}"], "complex": ["\\mathbb{C}"], "nat": ["\\mathbb{N}"], "integer": ["\\mathbb{Z}"], "bfx": "\\mathbf{x}", "bfX": "\\mathbf{X}", "bfy": "\\mathbf{y}", "bfz": "\\mathbf{z}", "rmn": ["\\mathbb{R}^{#1 \\times #2}", 2], "dd": ["\\frac{d #1}{d #2}", 2], "pp": ["\\frac{\\partial #1}{\\partial #2}", 2], "norm": ["\\| #1 \\|", 1], "twonorm": ["\\| #1 \\|_2", 1], "onenorm": ["\\| #1 \\|_1", 1], "infnorm": ["\\| #1 \\|_\\infty", 1], "innerprod": ["\\langle #1,#2 \\rangle", 2], "pr": ["^{(#1)}", 1], "diag": ["\\operatorname{diag}"], "sign": ["\\operatorname{sign}"], "ee": ["\\times 10^"], "floor": ["\\lfloor#1\\rfloor", 1], "argmin": ["\\operatorname{argmin}"], "Cov": ["\\operatorname{Cov}"]}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2.2. Continuous distributions" href="distributions.html" />
    <link rel="prev" title="2. Descriptive statistics" href="overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data Science 1</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Data Science 1 @ UD Math
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../representation/overview.html">
   1. Representation of data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../representation/data-types.html">
     1.1. Types of data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../representation/pandas.html">
     1.2. Introduction to pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../representation/split-apply-combine.html">
     1.3. Split–apply–combine
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../representation/seaborn.html">
     1.4. Introduction to seaborn
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="overview.html">
   2. Descriptive statistics
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     2.1. Exploratory analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="distributions.html">
     2.2. Continuous distributions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="correlation.html">
     2.3. Correlation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../supervised/overview.html">
   3. Supervised learning
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../supervised/scikit.html">
     3.1. Using scikit-learn
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/statistics/exploratory.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/statistics/exploratory.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/UD-Math-Data-Science-1/notes/main?urlpath=tree/statistics/exploratory.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#histogram">
   Histogram
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mean-variance-and-standard-deviation">
   Mean, variance and standard deviation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#populations-and-samples">
     Populations and samples
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#z-scores">
     z-scores
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quantiles-and-percentiles">
   Quantiles and percentiles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#outliers">
   Outliers
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <!-- Table of contents that is only displayed when printing the page -->
    <div id="jb-print-docs-body" class="onlyprint">
        <h1>Exploratory analysis</h1>
        <!-- Table of contents -->
        <div id="print-main-content" class="row">
            <div class="col-12 col-md-12 pl-md-5 pr-md-5">
            <div id="jb-print-toc">
                
                <div>
                    <h2> Contents </h2>
                </div>
                <nav aria-label="Page">
                    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#histogram">
   Histogram
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mean-variance-and-standard-deviation">
   Mean, variance and standard deviation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#populations-and-samples">
     Populations and samples
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#z-scores">
     z-scores
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#quantiles-and-percentiles">
   Quantiles and percentiles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#outliers">
   Outliers
  </a>
 </li>
</ul>

                </nav>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="exploratory-analysis">
<h1><span class="section-number">2.1. </span>Exploratory analysis<a class="headerlink" href="#exploratory-analysis" title="Permalink to this headline">¶</a></h1>
<p>We will explore a well-known data set known as “Census Income”, or “Adult”. It’s stored as a text file with 15 fields per line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>\

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span> 
    <span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="s2">&quot;workclass&quot;</span><span class="p">,</span><span class="s2">&quot;fnlwgt&quot;</span><span class="p">,</span><span class="s2">&quot;education&quot;</span><span class="p">,</span><span class="s2">&quot;education_num&quot;</span><span class="p">,</span>
    <span class="s2">&quot;marital_status&quot;</span><span class="p">,</span><span class="s2">&quot;occupation&quot;</span><span class="p">,</span><span class="s2">&quot;relationship&quot;</span><span class="p">,</span><span class="s2">&quot;race&quot;</span><span class="p">,</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;capital_gain&quot;</span><span class="p">,</span><span class="s2">&quot;capital_loss&quot;</span><span class="p">,</span><span class="s2">&quot;hours_per_week&quot;</span><span class="p">,</span><span class="s2">&quot;country&quot;</span><span class="p">,</span><span class="s2">&quot;income_level&quot;</span>
<span class="p">]</span>
<span class="n">dtypes</span> <span class="o">=</span> <span class="p">[</span> 
    <span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span>
    <span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span>
    <span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span>
<span class="p">]</span>
<span class="n">adult</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s2">&quot;adult.data&quot;</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span><span class="n">dtypes</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education_num</th>
      <th>marital_status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital_gain</th>
      <th>capital_loss</th>
      <th>hours_per_week</th>
      <th>country</th>
      <th>income_level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>2</th>
      <td>38</td>
      <td>Private</td>
      <td>215646</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Divorced</td>
      <td>Handlers-cleaners</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>3</th>
      <td>53</td>
      <td>Private</td>
      <td>234721</td>
      <td>11th</td>
      <td>7</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32556</th>
      <td>27</td>
      <td>Private</td>
      <td>257302</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Married-civ-spouse</td>
      <td>Tech-support</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>38</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32557</th>
      <td>40</td>
      <td>Private</td>
      <td>154374</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Machine-op-inspct</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32558</th>
      <td>58</td>
      <td>Private</td>
      <td>151910</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Widowed</td>
      <td>Adm-clerical</td>
      <td>Unmarried</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32559</th>
      <td>22</td>
      <td>Private</td>
      <td>201490</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>20</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32560</th>
      <td>52</td>
      <td>Self-emp-inc</td>
      <td>287927</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>15024</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
<p>32561 rows × 15 columns</p>
</div></div></div>
</div>
<p>One of the simplest ways to break down this data is by gender.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span> <span class="o">=</span> <span class="n">adult</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="n">bysex</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    10771
 Male      21790
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Or, we could group by country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bycountry</span> <span class="o">=</span> <span class="n">adult</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;country&quot;</span><span class="p">)</span>
<span class="n">bycountry</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country
 ?                               583
 Cambodia                         19
 Canada                          121
 China                            75
 Columbia                         59
 Cuba                             95
 Dominican-Republic               70
 Ecuador                          28
 El-Salvador                     106
 England                          90
 France                           29
 Germany                         137
 Greece                           29
 Guatemala                        64
 Haiti                            44
 Holand-Netherlands                1
 Honduras                         13
 Hong                             20
 Hungary                          13
 India                           100
 Iran                             43
 Ireland                          24
 Italy                            73
 Jamaica                          81
 Japan                            62
 Laos                             18
 Mexico                          643
 Nicaragua                        34
 Outlying-US(Guam-USVI-etc)       14
 Peru                             31
 Philippines                     198
 Poland                           60
 Portugal                         37
 Puerto-Rico                     114
 Scotland                         12
 South                            80
 Taiwan                           51
 Thailand                         18
 Trinadad&amp;Tobago                  19
 United-States                 29170
 Vietnam                          67
 Yugoslavia                       16
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>As you can see above, there are 583 rows with an unknown (missing) country.</p>
<p>Let’s explore the distributions of high-income individuals among males and females.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;income_level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex            
 Female   &lt;=50K     9592
          &gt;50K      1179
 Male     &lt;=50K    15128
          &gt;50K      6662
Name: income_level, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>A visualization might be more dramatic:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s2">&quot;income_level&quot;</span><span class="p">,</span><span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c1ccea30&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_11_1.png" src="../_images/exploratory_11_1.png" />
</div>
</div>
<p>It’s immediately clear that males have a much greater proportion of high-income individuals. There are other differences between the genders as well, such as age. Since age is quantitative rather than the 2-state category for high income, there is more information to summarize. It often makes sense to begin with plots.</p>
<div class="section" id="histogram">
<h2>Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h2>
<p>To visualize a distribution of continuous values, we can use a <strong>histogram</strong>. We choose ordered real values <span class="math notranslate nohighlight">\(t_1 &lt; t_2 &lt; \cdots &lt; t_m\)</span>. Define <em>bin</em> <span class="math notranslate nohighlight">\(k\)</span> to be the interval <span class="math notranslate nohighlight">\(B_k=[t_k,t_{k+1})\)</span>, with the convention that <span class="math notranslate nohighlight">\(t_0=-\infty\)</span> and <span class="math notranslate nohighlight">\(t_{m+1}=\infty\)</span>. This gives us a series of counts <span class="math notranslate nohighlight">\(c_k\)</span>, where <span class="math notranslate nohighlight">\(c_k\)</span> is defined as the number of data values in interval <span class="math notranslate nohighlight">\(B_k\)</span>. A histogram plots those counts, typically using a bar graph.</p>
<p>Here is a histogram of ages over the whole data set.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c102a190&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_13_1.png" src="../_images/exploratory_13_1.png" />
</div>
</div>
<p>Those spikes are unlikely to reflect reality! Presumably, there is some unknown detail about how ages are reported. Perhaps in some countries, they are rounded to the nearest multiple of 5. We can lessen the effect of this anomaly by choosing fewer, wider bins.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85b29fb6d0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_15_1.png" src="../_images/exploratory_15_1.png" />
</div>
</div>
<p>We can also separate the histogram by gender (or any other grouping we define).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c1932ee0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_17_1.png" src="../_images/exploratory_17_1.png" />
</div>
</div>
<p>The values for males look like they might be a truncated version of a “bell curve,” but the female case appears to be something entirely different, perhaps reflecting a more recent entry into the workforce on average.</p>
</div>
<div class="section" id="mean-variance-and-standard-deviation">
<h2>Mean, variance and standard deviation<a class="headerlink" href="#mean-variance-and-standard-deviation" title="Permalink to this headline">¶</a></h2>
<p>You know well the mean, or average value. Given values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span>, the <strong>mean</strong> is</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-mean">
<span class="eqno">(2.1.1)<a class="headerlink" href="#equation-eq-statistics-mean" title="Permalink to this equation">¶</a></span>\[\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    36.858230
 Male      39.433547
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>As we see from the histograms, however, there are differences between the genders not captured by the means. Another common statistic tries to quantify the “spread” of the data. The <strong>variance</strong> of values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span> is defined as</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-var">
<span class="eqno">(2.1.2)<a class="headerlink" href="#equation-eq-statistics-var" title="Permalink to this equation">¶</a></span>\[\sigma^2 = \frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^2.\]</div>
<p>Variance is the average of the squares of deviations from the mean. As such, it has the units of the <span class="math notranslate nohighlight">\(x_i\)</span> squared. Its square root <span class="math notranslate nohighlight">\(\sigma\)</span>, known as the <strong>standard deviation</strong>, has the same units as the data and is more meaningful to compare to the mean.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    14.013697
 Male      13.370630
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="section" id="populations-and-samples">
<h3>Populations and samples<a class="headerlink" href="#populations-and-samples" title="Permalink to this headline">¶</a></h3>
<p>In statistics one refers to the <strong>population</strong> as the universe of available values. Thus, the entire population of Earth at some instant has a particular mean and standard deviation. However, in order to estimate those values, we can only measure a <strong>sample</strong> of the entire population directly. That’s what our data set above must reflect, of course.</p>
<p>It can be proved that <a class="reference internal" href="#equation-eq-statistics-mean">(2.1.1)</a> is an accurate way to estimate the mean of a population, in a particular sense: if (in a thought experiment) you could average this estimate over all possible samples of size <span class="math notranslate nohighlight">\(n\)</span>, the result would be exactly the population mean. However, if we use the formula <a class="reference internal" href="#equation-eq-statistics-var">(2.1.2)</a> to compute variance of a sample, and average over all possible sample sets, we would <em>not</em> get the variance of the population; we call this a <strong>biased estimator</strong>. The unbiased estimator for variance is</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-var-sample">
<span class="eqno">(2.1.3)<a class="headerlink" href="#equation-eq-statistics-var-sample" title="Permalink to this equation">¶</a></span>\[\hat{\sigma}^2 = \frac{1}{n-1}\sum_{i=1}^n (x_i - \bar{x})^2.\]</div>
<p>As you can see from the formulas, the difference between variance and sample variance is small when the sample size <span class="math notranslate nohighlight">\(n\)</span> is large. The <code class="docutils literal notranslate"><span class="pre">std</span></code> and <code class="docutils literal notranslate"><span class="pre">var</span></code> methods in pandas all calculate sample standard deviations and variances.</p>
</div>
<div class="section" id="z-scores">
<h3>z-scores<a class="headerlink" href="#z-scores" title="Permalink to this headline">¶</a></h3>
<p>Given data values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span>, we can define related values known as <strong>standardized scores</strong> or <strong>z-scores</strong>:</p>
<div class="math notranslate nohighlight">
\[
z_i = \frac{x-\mu}{\sigma}, \ldots i=1,\ldots,n.
\]</div>
<p>The z-scores have mean zero and standard deviation equal to 1; in physical terms, they are dimensionless. This makes them attractive to work with and to compare across data sets. In practice, of course, we usually have to settle for sample estimates of <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\sigma\)</span> to compute the z-scores.</p>
</div>
</div>
<div class="section" id="quantiles-and-percentiles">
<h2>Quantiles and percentiles<a class="headerlink" href="#quantiles-and-percentiles" title="Permalink to this headline">¶</a></h2>
<p>Mean, variance, and standard deviation are not necessarily relevant statistics for every data set. There are many alternatives.</p>
<p>For any <span class="math notranslate nohighlight">\(0&lt;p&lt;1\)</span>, the <span class="math notranslate nohighlight">\(100p\)</span>-<strong>percentile</strong> is the value <span class="math notranslate nohighlight">\(x_p\)</span> such that <span class="math notranslate nohighlight">\(p\)</span> is the probability of observing a population value less than or equal to <span class="math notranslate nohighlight">\(x_p\)</span>. The 50th percentile is known as the <strong>median</strong> of the population.</p>
<p>The unbiased sample median of <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span> can be computed by sorting the values into <span class="math notranslate nohighlight">\(y_1,\ldots,y_n\)</span>. If <span class="math notranslate nohighlight">\(n\)</span> is odd, then <span class="math notranslate nohighlight">\(y_{(n+1)/2}\)</span> is the sample median; otherwise, the average of <span class="math notranslate nohighlight">\(y_{n/2}\)</span> and <span class="math notranslate nohighlight">\(y_{1+(n/2)}\)</span> is the sample median. Computing unbiased sample estimates of percentiles other than the median is a little complicated, and we won’t go into the details.</p>
<div class="proof example admonition" id="example-0">
<p class="admonition-title"><span class="caption-number">Example 2.1.1 </span></p>
<div class="example-content section" id="proof-content">
<p>If the sorted values are <span class="math notranslate nohighlight">\(1,3,3,4,5,5,5\)</span>, then <span class="math notranslate nohighlight">\(n=7\)</span> and the sample median is <span class="math notranslate nohighlight">\(y_4=4\)</span>. If the sample values are <span class="math notranslate nohighlight">\(1,3,3,4,5,5,5,9\)</span>, then <span class="math notranslate nohighlight">\(n=8\)</span> and the sample median is <span class="math notranslate nohighlight">\((4+5)/2=4.5\)</span>.</p>
</div>
</div><p>A set of percentiles dividing probability into <span class="math notranslate nohighlight">\(q\)</span> equal pieces is called the <span class="math notranslate nohighlight">\(q\)</span>–<strong>quantiles</strong>.</p>
<div class="proof example admonition" id="example-1">
<p class="admonition-title"><span class="caption-number">Example 2.1.2 </span></p>
<div class="example-content section" id="proof-content">
<p>The 4-quantiles are called <strong>quartiles</strong>. The first quartile is the 25th percentile, or the value that exceeds 1/4 of the population. The second quartile is the median. The third quantile is the 75th percentile.</p>
<p>Sometimes the definition is extended to the <em>zeroth quartile</em>, which is the minimum sample value, and the <em>fourth quartile</em>, which is the maximum sample value.</p>
</div>
</div><p>One way to measure spread in the values is the <strong>interquartile range</strong> (IQR), which is the difference between the 75th percentile and the 25th percentile.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">describe</span></code> method of a data frame or grouped data frame gives summary statistics that include the quartiles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>sex</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Female</th>
      <td>10771.0</td>
      <td>36.858230</td>
      <td>14.013697</td>
      <td>17.0</td>
      <td>25.0</td>
      <td>35.0</td>
      <td>46.0</td>
      <td>90.0</td>
    </tr>
    <tr>
      <th>Male</th>
      <td>21790.0</td>
      <td>39.433547</td>
      <td>13.370630</td>
      <td>17.0</td>
      <td>29.0</td>
      <td>38.0</td>
      <td>48.0</td>
      <td>90.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Thus, the IQR is 21 for females and 19 for males, suggesting that the male distribution is a bit more centrally concentrated.</p>
<p>A common way to visualize quartiles is by a <strong>box plot</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c13203a0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_25_1.png" src="../_images/exploratory_25_1.png" />
</div>
</div>
<p>The colored boxes in each category show the quartiles. The “whiskers” extend the box by 1.5 times the IQR in each direction (ending at the extent of the data), and additional values are shown as dots.</p>
</div>
<div class="section" id="outliers">
<h2>Outliers<a class="headerlink" href="#outliers" title="Permalink to this headline">¶</a></h2>
<p>Informally, an <strong>outlier</strong> is a data value that is considered “far from typical.” There are various ways of deciding what “typical” means, and there is no one-size recommendation for all applications.</p>
<p>The box plot above illustrates one common choice for defining outliers. If <span class="math notranslate nohighlight">\(m\)</span> is the median of the data and <span class="math notranslate nohighlight">\(I\)</span> is the IQR, then <span class="math notranslate nohighlight">\(x\)</span> is declared an outlier if</p>
<div class="math notranslate nohighlight">
\[|x-m| &gt; 1.5I.\]</div>
<p>Hence the dots in the box plots are considered outliers by this criterion.</p>
<p>It is well known that the mean is more strongly influenced by outliers than the median is.</p>
<div class="proof example admonition" id="example-2">
<p class="admonition-title"><span class="caption-number">Example 2.1.3 </span></p>
<div class="example-content section" id="proof-content">
<p>The values <span class="math notranslate nohighlight">\(1,2,3,4,5\)</span> have a mean and median both equal to 3. If we change the largest value to be a lot larger, say <span class="math notranslate nohighlight">\(1,2,3,4,1000\)</span>, then the mean changes to 202. But the median is still 3!</p>
</div>
</div><p>Let’s create a series indicating which rows of the table represent outliers within their gender group.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">isoutlier</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">I</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.75</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>   <span class="c1"># quantile is defined by pandas</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">median</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">I</span>

<span class="n">outs</span> <span class="o">=</span> <span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">isoutlier</span><span class="p">)</span>

<span class="n">adult</span><span class="p">[</span><span class="n">outs</span><span class="p">][</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    1008.000000
mean       72.659722
std         5.700074
min        67.000000
25%        68.000000
50%        71.000000
75%        75.000000
max        90.000000
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>To negate the outlier indicator series, we can use <code class="docutils literal notranslate"><span class="pre">~outs</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span> <span class="o">=</span> <span class="n">adult</span><span class="p">[</span><span class="o">~</span><span class="n">outs</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>sex</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Female</th>
      <td>10435.0</td>
      <td>35.710014</td>
      <td>12.626255</td>
      <td>17.0</td>
      <td>25.0</td>
      <td>34.0</td>
      <td>45.0</td>
      <td>66.0</td>
    </tr>
    <tr>
      <th>Male</th>
      <td>21118.0</td>
      <td>38.373994</td>
      <td>12.124870</td>
      <td>17.0</td>
      <td>29.0</td>
      <td>37.0</td>
      <td>47.0</td>
      <td>66.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Compare these to the previous summary. For both groups, the mean values shifted downward by about 1.1 years, while the median decreased by 1 year.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "UD-Math-Data-Science-1/notes",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./statistics"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </div>
        </div>
    </div>
    <div id="main-content" class="row noprint">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="exploratory-analysis">
<h1><span class="section-number">2.1. </span>Exploratory analysis<a class="headerlink" href="#exploratory-analysis" title="Permalink to this headline">¶</a></h1>
<p>We will explore a well-known data set known as “Census Income”, or “Adult”. It’s stored as a text file with 15 fields per line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>\

<span class="n">names</span> <span class="o">=</span> <span class="p">[</span> 
    <span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="s2">&quot;workclass&quot;</span><span class="p">,</span><span class="s2">&quot;fnlwgt&quot;</span><span class="p">,</span><span class="s2">&quot;education&quot;</span><span class="p">,</span><span class="s2">&quot;education_num&quot;</span><span class="p">,</span>
    <span class="s2">&quot;marital_status&quot;</span><span class="p">,</span><span class="s2">&quot;occupation&quot;</span><span class="p">,</span><span class="s2">&quot;relationship&quot;</span><span class="p">,</span><span class="s2">&quot;race&quot;</span><span class="p">,</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span>
    <span class="s2">&quot;capital_gain&quot;</span><span class="p">,</span><span class="s2">&quot;capital_loss&quot;</span><span class="p">,</span><span class="s2">&quot;hours_per_week&quot;</span><span class="p">,</span><span class="s2">&quot;country&quot;</span><span class="p">,</span><span class="s2">&quot;income_level&quot;</span>
<span class="p">]</span>
<span class="n">dtypes</span> <span class="o">=</span> <span class="p">[</span> 
    <span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span>
    <span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span>
    <span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;int64&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span><span class="p">,</span><span class="s2">&quot;category&quot;</span>
<span class="p">]</span>
<span class="n">adult</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s2">&quot;adult.data&quot;</span><span class="p">,</span><span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="n">names</span><span class="o">=</span><span class="n">names</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span><span class="n">dtypes</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adult</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>workclass</th>
      <th>fnlwgt</th>
      <th>education</th>
      <th>education_num</th>
      <th>marital_status</th>
      <th>occupation</th>
      <th>relationship</th>
      <th>race</th>
      <th>sex</th>
      <th>capital_gain</th>
      <th>capital_loss</th>
      <th>hours_per_week</th>
      <th>country</th>
      <th>income_level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>39</td>
      <td>State-gov</td>
      <td>77516</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>2174</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>Self-emp-not-inc</td>
      <td>83311</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>2</th>
      <td>38</td>
      <td>Private</td>
      <td>215646</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Divorced</td>
      <td>Handlers-cleaners</td>
      <td>Not-in-family</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>3</th>
      <td>53</td>
      <td>Private</td>
      <td>234721</td>
      <td>11th</td>
      <td>7</td>
      <td>Married-civ-spouse</td>
      <td>Handlers-cleaners</td>
      <td>Husband</td>
      <td>Black</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28</td>
      <td>Private</td>
      <td>338409</td>
      <td>Bachelors</td>
      <td>13</td>
      <td>Married-civ-spouse</td>
      <td>Prof-specialty</td>
      <td>Wife</td>
      <td>Black</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>Cuba</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>32556</th>
      <td>27</td>
      <td>Private</td>
      <td>257302</td>
      <td>Assoc-acdm</td>
      <td>12</td>
      <td>Married-civ-spouse</td>
      <td>Tech-support</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>38</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32557</th>
      <td>40</td>
      <td>Private</td>
      <td>154374</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Machine-op-inspct</td>
      <td>Husband</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
    <tr>
      <th>32558</th>
      <td>58</td>
      <td>Private</td>
      <td>151910</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Widowed</td>
      <td>Adm-clerical</td>
      <td>Unmarried</td>
      <td>White</td>
      <td>Female</td>
      <td>0</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32559</th>
      <td>22</td>
      <td>Private</td>
      <td>201490</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Never-married</td>
      <td>Adm-clerical</td>
      <td>Own-child</td>
      <td>White</td>
      <td>Male</td>
      <td>0</td>
      <td>0</td>
      <td>20</td>
      <td>United-States</td>
      <td>&lt;=50K</td>
    </tr>
    <tr>
      <th>32560</th>
      <td>52</td>
      <td>Self-emp-inc</td>
      <td>287927</td>
      <td>HS-grad</td>
      <td>9</td>
      <td>Married-civ-spouse</td>
      <td>Exec-managerial</td>
      <td>Wife</td>
      <td>White</td>
      <td>Female</td>
      <td>15024</td>
      <td>0</td>
      <td>40</td>
      <td>United-States</td>
      <td>&gt;50K</td>
    </tr>
  </tbody>
</table>
<p>32561 rows × 15 columns</p>
</div></div></div>
</div>
<p>One of the simplest ways to break down this data is by gender.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span> <span class="o">=</span> <span class="n">adult</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="n">bysex</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    10771
 Male      21790
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Or, we could group by country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bycountry</span> <span class="o">=</span> <span class="n">adult</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;country&quot;</span><span class="p">)</span>
<span class="n">bycountry</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>country
 ?                               583
 Cambodia                         19
 Canada                          121
 China                            75
 Columbia                         59
 Cuba                             95
 Dominican-Republic               70
 Ecuador                          28
 El-Salvador                     106
 England                          90
 France                           29
 Germany                         137
 Greece                           29
 Guatemala                        64
 Haiti                            44
 Holand-Netherlands                1
 Honduras                         13
 Hong                             20
 Hungary                          13
 India                           100
 Iran                             43
 Ireland                          24
 Italy                            73
 Jamaica                          81
 Japan                            62
 Laos                             18
 Mexico                          643
 Nicaragua                        34
 Outlying-US(Guam-USVI-etc)       14
 Peru                             31
 Philippines                     198
 Poland                           60
 Portugal                         37
 Puerto-Rico                     114
 Scotland                         12
 South                            80
 Taiwan                           51
 Thailand                         18
 Trinadad&amp;Tobago                  19
 United-States                 29170
 Vietnam                          67
 Yugoslavia                       16
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>As you can see above, there are 583 rows with an unknown (missing) country.</p>
<p>Let’s explore the distributions of high-income individuals among males and females.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;income_level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex            
 Female   &lt;=50K     9592
          &gt;50K      1179
 Male     &lt;=50K    15128
          &gt;50K      6662
Name: income_level, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>A visualization might be more dramatic:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s2">&quot;income_level&quot;</span><span class="p">,</span><span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;stack&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c1ccea30&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_11_1.png" src="../_images/exploratory_11_1.png" />
</div>
</div>
<p>It’s immediately clear that males have a much greater proportion of high-income individuals. There are other differences between the genders as well, such as age. Since age is quantitative rather than the 2-state category for high income, there is more information to summarize. It often makes sense to begin with plots.</p>
<div class="section" id="histogram">
<h2>Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h2>
<p>To visualize a distribution of continuous values, we can use a <strong>histogram</strong>. We choose ordered real values <span class="math notranslate nohighlight">\(t_1 &lt; t_2 &lt; \cdots &lt; t_m\)</span>. Define <em>bin</em> <span class="math notranslate nohighlight">\(k\)</span> to be the interval <span class="math notranslate nohighlight">\(B_k=[t_k,t_{k+1})\)</span>, with the convention that <span class="math notranslate nohighlight">\(t_0=-\infty\)</span> and <span class="math notranslate nohighlight">\(t_{m+1}=\infty\)</span>. This gives us a series of counts <span class="math notranslate nohighlight">\(c_k\)</span>, where <span class="math notranslate nohighlight">\(c_k\)</span> is defined as the number of data values in interval <span class="math notranslate nohighlight">\(B_k\)</span>. A histogram plots those counts, typically using a bar graph.</p>
<p>Here is a histogram of ages over the whole data set.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c102a190&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_13_1.png" src="../_images/exploratory_13_1.png" />
</div>
</div>
<p>Those spikes are unlikely to reflect reality! Presumably, there is some unknown detail about how ages are reported. Perhaps in some countries, they are rounded to the nearest multiple of 5. We can lessen the effect of this anomaly by choosing fewer, wider bins.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85b29fb6d0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_15_1.png" src="../_images/exploratory_15_1.png" />
</div>
</div>
<p>We can also separate the histogram by gender (or any other grouping we define).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c1932ee0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_17_1.png" src="../_images/exploratory_17_1.png" />
</div>
</div>
<p>The values for males look like they might be a truncated version of a “bell curve,” but the female case appears to be something entirely different, perhaps reflecting a more recent entry into the workforce on average.</p>
</div>
<div class="section" id="mean-variance-and-standard-deviation">
<h2>Mean, variance and standard deviation<a class="headerlink" href="#mean-variance-and-standard-deviation" title="Permalink to this headline">¶</a></h2>
<p>You know well the mean, or average value. Given values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span>, the <strong>mean</strong> is</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-mean">
<span class="eqno">(2.1.1)<a class="headerlink" href="#equation-eq-statistics-mean" title="Permalink to this equation">¶</a></span>\[\bar{x} = \frac{1}{n}\sum_{i=1}^n x_i.\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    36.858230
 Male      39.433547
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>As we see from the histograms, however, there are differences between the genders not captured by the means. Another common statistic tries to quantify the “spread” of the data. The <strong>variance</strong> of values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span> is defined as</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-var">
<span class="eqno">(2.1.2)<a class="headerlink" href="#equation-eq-statistics-var" title="Permalink to this equation">¶</a></span>\[\sigma^2 = \frac{1}{n}\sum_{i=1}^n (x_i - \bar{x})^2.\]</div>
<p>Variance is the average of the squares of deviations from the mean. As such, it has the units of the <span class="math notranslate nohighlight">\(x_i\)</span> squared. Its square root <span class="math notranslate nohighlight">\(\sigma\)</span>, known as the <strong>standard deviation</strong>, has the same units as the data and is more meaningful to compare to the mean.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>sex
 Female    14.013697
 Male      13.370630
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="section" id="populations-and-samples">
<h3>Populations and samples<a class="headerlink" href="#populations-and-samples" title="Permalink to this headline">¶</a></h3>
<p>In statistics one refers to the <strong>population</strong> as the universe of available values. Thus, the entire population of Earth at some instant has a particular mean and standard deviation. However, in order to estimate those values, we can only measure a <strong>sample</strong> of the entire population directly. That’s what our data set above must reflect, of course.</p>
<p>It can be proved that <a class="reference internal" href="#equation-eq-statistics-mean">(2.1.1)</a> is an accurate way to estimate the mean of a population, in a particular sense: if (in a thought experiment) you could average this estimate over all possible samples of size <span class="math notranslate nohighlight">\(n\)</span>, the result would be exactly the population mean. However, if we use the formula <a class="reference internal" href="#equation-eq-statistics-var">(2.1.2)</a> to compute variance of a sample, and average over all possible sample sets, we would <em>not</em> get the variance of the population; we call this a <strong>biased estimator</strong>. The unbiased estimator for variance is</p>
<div class="math notranslate nohighlight" id="equation-eq-statistics-var-sample">
<span class="eqno">(2.1.3)<a class="headerlink" href="#equation-eq-statistics-var-sample" title="Permalink to this equation">¶</a></span>\[\hat{\sigma}^2 = \frac{1}{n-1}\sum_{i=1}^n (x_i - \bar{x})^2.\]</div>
<p>As you can see from the formulas, the difference between variance and sample variance is small when the sample size <span class="math notranslate nohighlight">\(n\)</span> is large. The <code class="docutils literal notranslate"><span class="pre">std</span></code> and <code class="docutils literal notranslate"><span class="pre">var</span></code> methods in pandas all calculate sample standard deviations and variances.</p>
</div>
<div class="section" id="z-scores">
<h3>z-scores<a class="headerlink" href="#z-scores" title="Permalink to this headline">¶</a></h3>
<p>Given data values <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span>, we can define related values known as <strong>standardized scores</strong> or <strong>z-scores</strong>:</p>
<div class="math notranslate nohighlight">
\[
z_i = \frac{x-\mu}{\sigma}, \ldots i=1,\ldots,n.
\]</div>
<p>The z-scores have mean zero and standard deviation equal to 1; in physical terms, they are dimensionless. This makes them attractive to work with and to compare across data sets. In practice, of course, we usually have to settle for sample estimates of <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\sigma\)</span> to compute the z-scores.</p>
</div>
</div>
<div class="section" id="quantiles-and-percentiles">
<h2>Quantiles and percentiles<a class="headerlink" href="#quantiles-and-percentiles" title="Permalink to this headline">¶</a></h2>
<p>Mean, variance, and standard deviation are not necessarily relevant statistics for every data set. There are many alternatives.</p>
<p>For any <span class="math notranslate nohighlight">\(0&lt;p&lt;1\)</span>, the <span class="math notranslate nohighlight">\(100p\)</span>-<strong>percentile</strong> is the value <span class="math notranslate nohighlight">\(x_p\)</span> such that <span class="math notranslate nohighlight">\(p\)</span> is the probability of observing a population value less than or equal to <span class="math notranslate nohighlight">\(x_p\)</span>. The 50th percentile is known as the <strong>median</strong> of the population.</p>
<p>The unbiased sample median of <span class="math notranslate nohighlight">\(x_1,\ldots,x_n\)</span> can be computed by sorting the values into <span class="math notranslate nohighlight">\(y_1,\ldots,y_n\)</span>. If <span class="math notranslate nohighlight">\(n\)</span> is odd, then <span class="math notranslate nohighlight">\(y_{(n+1)/2}\)</span> is the sample median; otherwise, the average of <span class="math notranslate nohighlight">\(y_{n/2}\)</span> and <span class="math notranslate nohighlight">\(y_{1+(n/2)}\)</span> is the sample median. Computing unbiased sample estimates of percentiles other than the median is a little complicated, and we won’t go into the details.</p>
<div class="proof example admonition" id="example-0">
<p class="admonition-title"><span class="caption-number">Example 2.1.1 </span></p>
<div class="example-content section" id="proof-content">
<p>If the sorted values are <span class="math notranslate nohighlight">\(1,3,3,4,5,5,5\)</span>, then <span class="math notranslate nohighlight">\(n=7\)</span> and the sample median is <span class="math notranslate nohighlight">\(y_4=4\)</span>. If the sample values are <span class="math notranslate nohighlight">\(1,3,3,4,5,5,5,9\)</span>, then <span class="math notranslate nohighlight">\(n=8\)</span> and the sample median is <span class="math notranslate nohighlight">\((4+5)/2=4.5\)</span>.</p>
</div>
</div><p>A set of percentiles dividing probability into <span class="math notranslate nohighlight">\(q\)</span> equal pieces is called the <span class="math notranslate nohighlight">\(q\)</span>–<strong>quantiles</strong>.</p>
<div class="proof example admonition" id="example-1">
<p class="admonition-title"><span class="caption-number">Example 2.1.2 </span></p>
<div class="example-content section" id="proof-content">
<p>The 4-quantiles are called <strong>quartiles</strong>. The first quartile is the 25th percentile, or the value that exceeds 1/4 of the population. The second quartile is the median. The third quantile is the 75th percentile.</p>
<p>Sometimes the definition is extended to the <em>zeroth quartile</em>, which is the minimum sample value, and the <em>fourth quartile</em>, which is the maximum sample value.</p>
</div>
</div><p>One way to measure spread in the values is the <strong>interquartile range</strong> (IQR), which is the difference between the 75th percentile and the 25th percentile.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">describe</span></code> method of a data frame or grouped data frame gives summary statistics that include the quartiles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>sex</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Female</th>
      <td>10771.0</td>
      <td>36.858230</td>
      <td>14.013697</td>
      <td>17.0</td>
      <td>25.0</td>
      <td>35.0</td>
      <td>46.0</td>
      <td>90.0</td>
    </tr>
    <tr>
      <th>Male</th>
      <td>21790.0</td>
      <td>39.433547</td>
      <td>13.370630</td>
      <td>17.0</td>
      <td>29.0</td>
      <td>38.0</td>
      <td>48.0</td>
      <td>90.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Thus, the IQR is 21 for females and 19 for males, suggesting that the male distribution is a bit more centrally concentrated.</p>
<p>A common way to visualize quartiles is by a <strong>box plot</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">adult</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;age&quot;</span><span class="p">,</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;box&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x7f85c13203a0&gt;
</pre></div>
</div>
<img alt="../_images/exploratory_25_1.png" src="../_images/exploratory_25_1.png" />
</div>
</div>
<p>The colored boxes in each category show the quartiles. The “whiskers” extend the box by 1.5 times the IQR in each direction (ending at the extent of the data), and additional values are shown as dots.</p>
</div>
<div class="section" id="outliers">
<h2>Outliers<a class="headerlink" href="#outliers" title="Permalink to this headline">¶</a></h2>
<p>Informally, an <strong>outlier</strong> is a data value that is considered “far from typical.” There are various ways of deciding what “typical” means, and there is no one-size recommendation for all applications.</p>
<p>The box plot above illustrates one common choice for defining outliers. If <span class="math notranslate nohighlight">\(m\)</span> is the median of the data and <span class="math notranslate nohighlight">\(I\)</span> is the IQR, then <span class="math notranslate nohighlight">\(x\)</span> is declared an outlier if</p>
<div class="math notranslate nohighlight">
\[|x-m| &gt; 1.5I.\]</div>
<p>Hence the dots in the box plots are considered outliers by this criterion.</p>
<p>It is well known that the mean is more strongly influenced by outliers than the median is.</p>
<div class="proof example admonition" id="example-2">
<p class="admonition-title"><span class="caption-number">Example 2.1.3 </span></p>
<div class="example-content section" id="proof-content">
<p>The values <span class="math notranslate nohighlight">\(1,2,3,4,5\)</span> have a mean and median both equal to 3. If we change the largest value to be a lot larger, say <span class="math notranslate nohighlight">\(1,2,3,4,1000\)</span>, then the mean changes to 202. But the median is still 3!</p>
</div>
</div><p>Let’s create a series indicating which rows of the table represent outliers within their gender group.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">isoutlier</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">I</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.75</span><span class="p">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">.25</span><span class="p">)</span>   <span class="c1"># quantile is defined by pandas</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">x</span><span class="o">.</span><span class="n">median</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">I</span>

<span class="n">outs</span> <span class="o">=</span> <span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">isoutlier</span><span class="p">)</span>

<span class="n">adult</span><span class="p">[</span><span class="n">outs</span><span class="p">][</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    1008.000000
mean       72.659722
std         5.700074
min        67.000000
25%        68.000000
50%        71.000000
75%        75.000000
max        90.000000
Name: age, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>To negate the outlier indicator series, we can use <code class="docutils literal notranslate"><span class="pre">~outs</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bysex</span> <span class="o">=</span> <span class="n">adult</span><span class="p">[</span><span class="o">~</span><span class="n">outs</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;sex&quot;</span><span class="p">)</span>
<span class="n">bysex</span><span class="p">[</span><span class="s2">&quot;age&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>sex</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Female</th>
      <td>10435.0</td>
      <td>35.710014</td>
      <td>12.626255</td>
      <td>17.0</td>
      <td>25.0</td>
      <td>34.0</td>
      <td>45.0</td>
      <td>66.0</td>
    </tr>
    <tr>
      <th>Male</th>
      <td>21118.0</td>
      <td>38.373994</td>
      <td>12.124870</td>
      <td>17.0</td>
      <td>29.0</td>
      <td>37.0</td>
      <td>47.0</td>
      <td>66.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Compare these to the previous summary. For both groups, the mean values shifted downward by about 1.1 years, while the median decreased by 1 year.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "UD-Math-Data-Science-1/notes",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./statistics"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">2. </span>Descriptive statistics</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="distributions.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2.2. </span>Continuous distributions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Tobin A. Driscoll<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>